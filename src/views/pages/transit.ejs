<%- include ('../partials/head') %>
  <%- include ('../partials/menu') %>
    <head>
      <link rel="stylesheet" href="styles/style.css">
      <script src="modal/modal.js"></script>
    </head>
    <div class="col"><%- include ('../partials/message') %></div>
    <main style="padding: 30px; padding-top: 20px;">
      <div class="container">
        <form style="padding-top: 20px;">
          <div class="card">
            <div class="card-body">
              <h4>Get Trip Suggestions</h4>
              <div class="row">
                <div class="col-md-6">
                  <form action="/displayMap" method="POST">
                    <div class="form-group">
                      <label for="textInput">To Your Destination</label>
                      <input type="text" id="destination" name="destination" class="form-control"
                        placeholder="Type Your Destination">
                    </div>
                    <div class="form-group">
                      <label for="disabledSelect">From My Location</label>
                      <input type="text" id="source" name="source" class="form-control"
                        placeholder="Type Your Location">
                    </div>
                    <div style="padding-top: 10px;">
                      <button type="submit" class="btn btn-outline-dark" style="float: right;">Search</button>
                    </div>
                    </fieldset>
                  </form>

                  <table class="table" style="text-align: center; margin: auto;">
                    <thead>
                      <tr>
                        <th scope="col">Transportation</th>
                        <th scope="col">Estimated Time</th>
                        <th scope="col">Travel Time</th>
                        <th scope="col">Estimated Cost</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th scope="row"><img src="images/Uber_logo.png" width=100 height=100></th>
                        <td>Leave At: 10:10am<br>Arrive By: 10:25am</td>
                        <td>15 min</td>
                        <td>$3</td>
                        <td><button type="button" onclick="showModal('hello','<p>hello</p>','<button>bye</button>')" class="btn btn-outline-dark" style="float: right;">Info</button></td>
                      </tr>
                      <tr>
                        <th scope="row"><img src="images/RTD_logo.png" width=100 height=100></th>
                        <td>Leave At: 10:10am<br>Arrive By: 10:25am</td>
                        <td>18 min</td>
                        <td>$5</td>
                        <td><button type="button" onclick="showModal('hello','<p>hello</p>','<button>bye</button>')" class="btn btn-outline-dark" style="float: right;">Info</button></td>
                      </tr>
                      <tr>
                        <th scope="row"><img src="images/Bcycle_logo.png" width=100 height=100></th>
                        <td>Leave At: 10:10am<br>Arrive By: 10:25am</td>
                        <td>30 min</td>
                        <td>$12</td>
                        <td><button type="button" onclick="showModal('hello','<p>hello</p>','<button>bye</button>')" class="btn btn-outline-dark" style="float: right;">Info</button></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="col">
                  <div id="map"></div>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
      <script>
        var map_init = L.map('map', {
          center: [39.7392, -104.9903],
          zoom: 10
        });
        var map = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map_init);

        // use this line to add markers depending on users input
        // var marker = L.marker([North Co, West Co]).addTo(map_init);

        var Basemaps = {
          "MAP": map
        }
        var Overlaymaps = {
          "Marker": marker
        }
        L.control.layers(Basemaps, Overlaymaps).addTo(map_init);


      </script>

      <script type="text/javascript"
        src="https://maps.googleapis.com/maps/api/js?key=<%=apikey%>&libraries=places"></script>

      <script>

        google.maps.event.addDomListener(window, 'load', initialize);

        function initialize() {

          var input = document.getElementById('destination');
          var input2 = document.getElementById('source');

          var autocomplete = new google.maps.places.Autocomplete(input);
          var autocomplete2 = new google.maps.places.Autocomplete(input2);
          autocomplete.addListener('place_changed', function () {

            var place = autocomplete.getPlace();

            // place variable will have all the information you are looking for.

            $('#lat').val(place.geometry['location'].lat());

            $('#long').val(place.geometry['location'].lng());

            autocomplete2.addListener('source_changed'), function () {

              var place2 = autocomplete.getPlace();

              // place variable will have all the information you are looking for.

              $('#lat').val(place2.geometry['location'].lat());

              $('#long').val(place2.geometry['location'].lng());
            }

          });

        }





      </script>
    </main>




    <%- include ('../partials/footer') %>